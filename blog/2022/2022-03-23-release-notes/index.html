<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.103.0"><meta name=description content="Velociraptor Release 0.6.4 is now LIVE. This post discusses some of the new features.
"><link rel=icon href=/images/favicon.png type=image/png><title>Velociraptor 0.6.4 Release :: Velociraptor - Digging deeper!</title><link href=/css/nucleus.css?1663422076 rel=stylesheet><link href=/css/fontawesome-all.min.css?1663422076 rel=stylesheet><link href=/css/featherlight.min.css?1663422076 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1663422076 rel=stylesheet><link href=/css/auto-complete.css?1663422076 rel=stylesheet><link href=/css/theme.css?1663422076 rel=stylesheet><link href=/css/tabs.css?1663422076 rel=stylesheet><link href=/css/hugo-theme.css?1663422076 rel=stylesheet><link href=/css/theme-mine.css?1663422076 rel=stylesheet><link href=/css/dark.css?1663422076 rel=stylesheet><link href=/css/syntax.css?1663422076 rel=stylesheet><link href=/css/light.css?1663422076 rel=stylesheet><link href=/css/hljs.css?1663422076 rel=stylesheet><link href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css?1663422076 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1663422076></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYH72LMYCS"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYH72LMYCS",{anonymize_ip:!1})}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-QYH72LMYCS","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script></script></head><body data-url=/blog/2022/2022-03-23-release-notes/><nav id=sidebar><div id=header-wrapper><div id=header><script>function darkmode(){$("body").addClass("dark").removeClass("light"),document.cookie="theme=darkmode;path=/"}function lightmode(){$("body").removeClass("dark").addClass("light"),document.cookie="theme=lightmode;path=/"}const regex=new RegExp("theme=darkmode");regex.test(document.cookie)?darkmode():lightmode()</script><div class="btn btn-default ThemeSelector darkmode" onclick=darkmode()><i class="fas fa-moon"></i></div><div class="btn btn-default ThemeSelector lightmode" onclick=lightmode()><i class="fas fa-sun"></i></div><a href=https://docs.velociraptor.app/><img src=https://docs.velociraptor.app//images/logo.svg></a></div></div><div class=highlightable><ul class=topics><li data-nav-id=https://docs.velociraptor.app/announcements/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/announcements/><i class="fas fa-bullhorn"></i>Announcements</a></div><ul><li data-nav-id=https://docs.velociraptor.app/announcements/2022-velocon/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/announcements/2022-velocon/>2022 VeloCon</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/><i class="fas fa-book-reader"></i>Documentation</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/overview/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/overview/>Velociraptor Overview</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/overview/history/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/overview/history/>History</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/overview/support/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/overview/support/>Support Policy</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/deployment/>Deployment</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/deployment/self-signed/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/self-signed/>Self-Signed SSL</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/cloud/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/deployment/cloud/>Cloud Deployment</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/deployment/cloud/multifrontend/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/cloud/multifrontend/>Multi-Frontend</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/clients/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/clients/>Deploying Clients</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/rbac/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/rbac/>Users and Roles</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/resources/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/resources/>Performance</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/deployment/troubleshooting/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/deployment/troubleshooting/>Troubleshooting</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/gui/>The Admin GUI</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/gui/clients/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/clients/>Inspecting clients</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/vfs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/vfs/>The VFS</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/artifacts/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/artifacts/>Artifacts</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/gui/hunting/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/gui/hunting/>Hunting</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/vql/>VQL Fundamentals</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/vql/notebooks/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/notebooks/>Notebooks</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/artifacts/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/artifacts/>Artifacts</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/vql/events/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/vql/events/>Event Queries</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/forensic/>Forensic Analysis</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/forensic/filesystem/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/filesystem/>Searching Filenames</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/searching/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/searching/>Searching Content</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/ntfs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/ntfs/>NTFS Analysis</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/binary/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/binary/>Binary parsing</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/evidence_of_execution/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/evidence_of_execution/>Evidence Of Execution</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/event_logs/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/event_logs/>Event Logs</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/forensic/volatile/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/forensic/volatile/>Volatile State</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/docs/offline_triage/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/offline_triage/>Triage and acquisition</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/client_monitoring/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/client_monitoring/>Client Monitoring</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/extending_vql/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/extending_vql/>Extending VQL</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/docs/server_automation/>Server Automation</a></div><ul><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/server_api/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/server_automation/server_api/>Server API</a></div></li><li data-nav-id=https://docs.velociraptor.app/docs/server_automation/server_monitoring/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/docs/server_automation/server_monitoring/>Server Monitoring</a></div></li></ul></li></ul></li><hr><li data-nav-id=https://docs.velociraptor.app/vql_reference/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/vql_reference/><i class="fas fa-book"></i>VQL Reference</a></div><ul><li data-nav-id=https://docs.velociraptor.app/vql_reference/basic/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/basic/>Basic VQL</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/linux/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/linux/>Linux Specific</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/windows/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/windows/>Windows Specific</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/parsers/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/parsers/>Parsers</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/server/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/server/>Server Side</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/plugin/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/plugin/>Client Side</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/event/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/event/>Event Plugins</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/experimental/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/experimental/>Experimental</a></div></li><li data-nav-id=https://docs.velociraptor.app/vql_reference/misc/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/vql_reference/misc/>Misc</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/training/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/training/><i class="fas fa-graduation-cap"></i>Training</a></div></li><li data-nav-id=https://docs.velociraptor.app/blog/ class="dd-item parent haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/blog/><i class="fas fa-newspaper"></i>Blog</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/ class="dd-item haschildren"><div><i class="fa fa-angle-right fa-sm category-icon"></i>
<a href=/presentations/><i class="fas fa-chalkboard-teacher"></i>Presentations</a></div><ul><li data-nav-id=https://docs.velociraptor.app/presentations/2021_auscert/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2021_auscert/>Auscert 2021</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2021_dfrws_us/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2021_dfrws_us/>DFRWS US 2021 Workshop</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2021_osdfc/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2021_osdfc/>OSDFC 2021</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2021_blueteam_village/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2021_blueteam_village/>BTV 2021</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_linuxconf_au/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_linuxconf_au/>Linux Conf Au 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_auscert/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_auscert/>Auscert 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_dfrws_us/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_dfrws_us/>DFRWS US 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_tech_user_group_cbr/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_tech_user_group_cbr/>Tech Users Group 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_sans_summit/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_sans_summit/>SANS Summit 2022</a></div></li><li data-nav-id=https://docs.velociraptor.app/presentations/2022_velocon/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/presentations/2022_velocon/>Velocon 2022</a></div></li></ul></li><li data-nav-id=https://docs.velociraptor.app/exchange/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/exchange/><i class="fas fa-code"></i>Artifact Exchange</a></div></li><li data-nav-id=https://docs.velociraptor.app/artifact_references/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/artifact_references/><i class="fas fa-book"></i>Artifact Reference</a></div></li><li data-nav-id=https://docs.velociraptor.app/knowledge_base/ class="dd-item haschildren"><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/knowledge_base/><i class="fas fa-brain"></i>Knowledge Base</a></div></li><li data-nav-id=https://docs.velociraptor.app/search/ class=dd-item><div><i class="fa fa-circleXX fa-sm category-icon"></i>
<a href=/search/><i class='fas fa-search'></i>Search</a></div></li></ul><hr><section id=shortcuts><h3></h3><ul><li><a class=padding href=https://github.com/Velocidex/velociraptor><i class='fab fa-github'></i>Github</a></li><li><a class=padding href=https://docs.velociraptor.app/discord/><i class='fab fa-discord'></i>Discord</a></li><li><a class=padding href=mailto:velociraptor-discuss@googlegroups.com><i class='fas fa-envelope'></i>Mailing List</a></li><li><a class=padding href=https://docs.velociraptor.app/rss/><i class='fas fa-rss'></i>RSS</a></li></ul></section><section id=footer><div class=footer-copyright>Brought to you by
<img src=/images/Rapid7_logo.svg class=rapid7><br><i class="fas fa-copyright"></i> 2022</div></section></div></nav><script>$("#sidebar i.fa-angle-right").each(function(){$(this).parent().parent().find("ul").hide()})</script><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/Velocidex/velociraptor-docs/edit/master/content/blog/2022/2022-03-23-release-notes/_index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Velociraptor 0.6.4 Release</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#path-handling>Path handling</a><ul><li><a href=#dead-disk-analysis>Dead disk analysis</a></li></ul></li><li><a href=#resource-control>Resource control</a><ul><li><a href=#iops-limits>Iops limits</a></li><li><a href=#the-offline-collector-resource-controls>The offline collector resource controls</a></li></ul></li><li><a href=#gui-changes>GUI Changes</a><ul><li><a href=#notebook-suggestions>Notebook suggestions</a></li><li><a href=#multiple-oauth2-authenticators>Multiple OAuth2 authenticators</a></li></ul></li><li><a href=#the-velociraptor-knowledge-base>The Velociraptor knowledge base</a></li><li><a href=#known-issues>Known issues</a></li><li><a href=#conclusions>Conclusions</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/release>Release</a></div></div><div id=body-inner><h1>Velociraptor 0.6.4 Release</h1><div class="author pull-right">Mike Cohen
<span class=date>2022-04-21</span></div><p>I am very excited to announce the latest Velociraptor release
0.6.4. This release has been in the making for a few months now and
has a lot of new features.</p><p>The main focus of this release is in improving path handling in VQL to
allow for more efficient path manipulation. This leads to the ability
to analyze dead disk images which depends on accurate path handling.</p><h2 id=path-handling>Path handling</h2><p>A path is a simple concept - it is a string similar to <code>/bin/ls</code> which
can be used to pass to an OS API and have it operate on the file in
the filesystem (e.g. read/write it).</p><p>However it turns out that paths are much more complex than they first
seem. For one thing, paths have an OS dependent separator (usually <code>/</code>
or <code>\</code>). Some filesystems support path separators inside a filename
too! To read about the details check out <a href=/blog/2022/2022-03-21-paths/>Paths And Filesystem
Accessors</a> but one of the
most interesting thing with the new handling is that stacking
filesystem accessors is now possible, for example it is possible to
open a docx file inside a zip file inside an ntfs drive inside a
partition.</p><h3 id=dead-disk-analysis>Dead disk analysis</h3><p>Velociraptor offers top notch forensic analysis capability but it was
primarily used as a live response agent. Many users have asked us if
Velociraptor can be used on dead disk images. Although we rarely use
dead disk images in practice, sometimes we do encounter these (e.g. in
cloud investigations).</p><p>Previously we could not use Velociraptor easily on dead disk images
without having to carefully tailor and modify each artifact. In the
0.6.4 release we now have the ability to emulate a live client from
dead disk images. We can use this feature to run the exact same VQL
artifacts that we normally do on live systems, but against a dead disk
image. If you would like to read more about this new feature check out
<a href=/blog/2022/2022-03-22-deaddisk/>Dead Disk Forensics</a>.</p><h2 id=resource-control>Resource control</h2><p>When collecting artifacts from endpoints we need to be mindful of the
overall load that collection will cost on endpoints. For performance
sensitive servers, our collection can cause operational
disruption. For example, running a yara scan over the entire disk
would utilize a lot of IO operations and may use a lot of CPU
resources. Velociraptor will then compete for these resources with the
legitimate server functionality and may cause degraded performance.</p><p>Previously, Velociraptor had a setting called <code>Ops Per Second</code> which
could be used to run the collection &ldquo;low and slow&rdquo; by limiting the
rate at which notional &ldquo;ops&rdquo; were utilized. In reality this setting
was only ever used for Yara scans because it was hard to calculate an
appropriate setting: notional <code>ops</code> did not correspond to anything
measurable like CPU utilization.</p><p>In 0.6.4 we have implemented a feedback based throttler which can
control VQL queries to a target average CPU utilization. Since CPU
utilization is easy to measure it is a more meaningful control. The
throttler actively measures the Velociraptor process&rsquo;s CPU utilization
and when the simple moving average (SMA) rises above the limit, the
query is paused until the SMA drops below the limit.</p><p><figure><img src=resource_control.png alt="Selecting resource controls for collections" class=captioned><figcaption>Selecting resource controls for collections</figcaption></figure></p><p>The above screenshot shows the latest resource controls dialog. You
can now set a target CPU utilization between 0 and 100%. The image
below shows how that looks in the windows task manager</p><p><figure><img src=cpu_utilization.png alt="CPU control keeps Velociraptor at 15%" class=captioned><figcaption>CPU control keeps Velociraptor at 15%</figcaption></figure></p><div class="mynotices tip"><div heading=" Choosing an appropriate CPU limit "><p>By reducing the allowed CPU utilization, Velociraptor will be slowed
down so collections will take longer. You may need to increase the
collection timeout to correspond with the extra time it takes.</p><p>Note that the CPU limit refers to a percentage of the total CPU
resources available on the endpoint. So for example, if the endpoint
is a 2 core cloud instance a 50% utilization refers to 1 full
core. But on a 32 core server a 50% utilization is allowed to use 16
cores!</p></div></div><h3 id=iops-limits>Iops limits</h3><p>On some cloud resources IO operations per second (IOPS) are more
important than CPU loading since cloud platforms tend to rate limit
IOPS. So if Velociraptor uses many IOPS (e.g. in Yara scanning), it
may affect the legitimate workload.</p><p>Velociraptor now offers limits on IOPS which may be useful for some
scenarios. See for example
<a href=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html>here</a>
and
<a href=https://aws.amazon.com/blogs/database/understanding-burst-vs-baseline-performance-with-amazon-rds-and-gp2/>here</a>
for a discussion of these limits.</p><h3 id=the-offline-collector-resource-controls>The offline collector resource controls</h3><p>Many people use the <a href=/docs/offline_triage/#offline-collections>Velociraptor offline collector</a> to collect artifacts
from endpoints which they are unable to install a proper client/server
architecture on. In previous versions there was no resource control or
time limits imposed on the offline collector because it was assumed
that it would be used interactively by a user.</p><p>However experience shows that many users use automated tools to push
the offline collector to the endpoint (e.g. an EDR or another endpoint
agent) and therefore it would be useful to provide resource controls
and timeouts to control Velociraptor acquisitions. The below
screenshot shows the new resource control page in the offline
collector wizard.</p><p><figure><img src=offline_collector_resources.png alt="Configuring offline collector resource controls" class=captioned><figcaption>Configuring offline collector resource controls</figcaption></figure></p><h2 id=gui-changes>GUI Changes</h2><p>Versions 0.6.4 brings a lot of useful GUI improvements.</p><h3 id=notebook-suggestions>Notebook suggestions</h3><p>Notebooks are an excellent tool for post processing and analyzing the
collected results from various artifacts. Most of the time similar
post processing queries are used for the same artifacts so it makes
sense to allow notebook <code>templates</code> to be defined in the artifact
definition. In this release you can define an optional <code>suggestion</code> in
the artifact yaml to allow a user to include certain cells when
needed.</p><p>The following screenshot shows the default suggestion for all hunt
notebooks: <code>Hunt Progress</code>. This cell queries all clients in a hunt
and shows the ones with errors, running and completed.</p><p><figure><img src=hunt_suggestions.png alt="Hunt notebooks offer a hunt status cell" class=captioned><figcaption>Hunt notebooks offer a hunt status cell</figcaption></figure></p><p><figure><img src=hunt_suggestions_2.png alt="Hunt notebooks offer a hunt status cell" class=captioned><figcaption>Hunt notebooks offer a hunt status cell</figcaption></figure></p><h3 id=multiple-oauth2-authenticators>Multiple OAuth2 authenticators</h3><p>Velociraptor has always had SSO support to allow strong 2 factor
authentication for access to the GUI. However, previously Velociraptor
only supported one OAuth2 provider at a time. Users had to choose
between Google, Github, Azure or OIDC (e.g. Okta) for the
authentication provider.</p><p>This limitation is problematic for some organizations who need to
share access to the Velociraptor console outside their own
organizations (e.g. consultants need to provide read only access to
customers).</p><p>In 0.6.4 Velociraptor can be configured to support multiple SSO
providers at the same time. So an organization can provide access
through Okta for their own org at the same time as Azure or Google for
their customers.</p><p><figure><img src=multiple_oauth2.png alt="The Velociraptor login screen supports multiple providers" class=captioned><figcaption>The Velociraptor login screen supports multiple providers</figcaption></figure></p><h2 id=the-velociraptor-knowledge-base>The Velociraptor knowledge base</h2><p>Velociraptor is a very powerful tool. It&rsquo;s flexibility means that it
can do things that you might have never realized it can! For a while
now we have been thinking about ways to make this knowledge more
discoverable and easily available.</p><p>Many people ask questions on the Discord channel and learn new
capabilities in Velociraptor. We want to try a similar format to help
people discover what Velociraptor can do.</p><p>The <a href=/knowledge_base/>Velociraptor knowledge base</a> is a
new area on the documentation site that allows anyone to submit small
(1-2 paragraphs) tip about how to do a particular task. Knowledge base
tips are phrased as questions to help people search for them. Tips
should be short and refer to more detailed documentation - they are
just a quick hint.</p><p>If you learned something about Velociraptor that you did not know
before and would like to share your experience to make the next user&rsquo;s
journey that little bit easier, please contribute a small note to the
knowledge base.</p><h2 id=known-issues>Known issues</h2><p>Updating the VQL path handling in 0.6.4 introduces a new column called
<code>OSPath</code> (replacing the old <code>FullPath</code> column) which was not present
in previous versions. While we attempt to ensure that older artifacts
should continue to work on 0.6.4 clients, it is likely that the new
VQL artifacts built into 0.6.4 will not work correctly on older
versions.</p><p>If you are upgrading the Velociraptor server but still have older
clients in the field, it is likely that collecting the built in
artifacts will fail due to the new features not being present in older
clients.</p><p>To make migration easier, 0.6.4 comes built in with the
<code>Server.Import.PreviousReleases</code> artifact. This server artifact will
load all the artifacts from a previous release into the server. You
can use those older versions with older clients.</p><p><figure><img src=importing_previous_versions.png alt="Importing previous versions of core artifacts" class=captioned><figcaption>Importing previous versions of core artifacts</figcaption></figure></p><h2 id=conclusions>Conclusions</h2><p>If you like the new features, take <a href=https://github.com/Velocidex/velociraptor>Velociraptor for a
spin</a>! It is a available
on GitHub under an open source license. As always please file issues
on the bug tracker or ask questions on our mailing list
<a href=mailto:velociraptor-discuss@googlegroups.com>velociraptor-discuss@googlegroups.com</a>
. You can also chat with us directly on discord
<a href=https://www.velocidex.com/discord>https://www.velocidex.com/discord</a>
.</p><footer class=footline></footer></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//velocidex-velociraptor.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1663422076></script>
<script src=/js/perfect-scrollbar.min.js?1663422076></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1663422076></script>
<script src=/js/jquery.sticky.js?1663422076></script>
<script src=/js/featherlight.min.js?1663422076></script>
<script src=/js/highlight.min.js?1663422076></script>
<script>hljs.highlightAll()</script><script src=/js/modernizr.custom-3.6.0.js?1663422076></script>
<script src=/js/learn.js?1663422076></script>
<script src=/js/hugo-learn.js?1663422076></script></body></html>